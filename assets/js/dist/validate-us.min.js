function validateField(f){if(typeof f.validate!='undefined'){if(f.validate.required){if(f.value.length==0){return{error:f.validate.required.error,}}}if(f.validate.pattern){if(!f.value.match(f.validate.pattern.reg)){return{error:f.validate.pattern.error,}}}if(f.validate.min){if(f.value.length<f.validate.min.treshold){return{error:f.validate.min.error,}}}if(f.validate.max){if(f.value.length>f.validate.max.treshold){return{error:f.validate.max.error,}}}if(f.validate.callback){return f.validate.callback(f.value)}return true;}else{return true;}}function validateForm(e){var f=e.data
e.preventDefault()
var errors=[]
for(var k in f.fields){if(f.fields.hasOwnProperty(k)){var $field=$('#'+k)
var v=$field.val()
f.fields[k].value=v
var result=validateField(f.fields[k])
if(result!==true){if(typeof f.fields[k].onError=='function'){f.fields[k].onSubmitError($field,result)}else{window.onSubmitError($field,result)}errors.push(result)}else{if(typeof f.fields[k].onSuccess=='function'){f.fields[k].onSuccess($field)}else{window.onSuccess($field)}}}}if(errors.length==0){var $form=$(this)
var form=forms.filter(function(form){return form.id==$form.attr('id')})
if(form.length==0){console.log('No form set')
window.onFormSuccess($(this))}else{if(typeof form[0].onFormSuccess=='function'){form[0].onFormSuccess($(this))}else{window.onFormSuccess($(this))}}}}function validateSingleField(e){var field=e.data
var $field=$(this)
field.value=$field.val()
var result=validateField(field)
if(result!==true){if(typeof field.onError=='function'){field.onFieldError($field,result)}else{window.onFieldError($field,result)}}else{if(typeof field.onSuccess=='function'){field.onSuccess($field)}else{window.onSuccess($field)}}}function validateUs(forms){for(var i=0;i<forms.length;i++){$('#'+forms[i].id).on('submit',forms[i],validateForm);for(var k in forms[i].fields){$('#'+k).on('keyup',forms[i].fields[k],validateSingleField)
$('#'+k).on('change',forms[i].fields[k],validateSingleField)
if(typeof forms[i].fields[k].placeholder!='undefined'&&forms[i].fields[k].placeholder.length>0){$('#'+k).attr('placeholder',forms[i].fields[k].placeholder)}if(typeof forms[i].fields[k].value!='undefined'&&forms[i].fields[k].value.length>0){$('#'+k).val(forms[i].fields[k].value)}}}}